package hw6;

import static org.junit.jupiter.api.Assertions.*;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

class DrawerOpenTest {

	private DrawerOpen drawerOpen = DrawerOpen.getInstance();
	
	ByteArrayOutputStream outVariable = new ByteArrayOutputStream();
	//ByteArrayOutputStream errVariable = new ByteArrayOutputStream();

	@BeforeEach
	public void setStreams() {
		System.setOut(new PrintStream(outVariable));
		//System.setErr(new PrintStream(errVariable));
	}
	
	@Test
	public void OpenCloseButtonPushedTest() {
		drawerOpen.OpenCloseButtonPushed();
		assertEquals(outVariable.toString().replaceAll("\\s+", ""), "Drawerclosemethodinvoked");
		
	}
	
	@Test
	public void playButtonPushedTest() {
		drawerOpen.playButtonPushed();
		assertEquals(outVariable.toString().replaceAll("\\s+", ""), "DrawerclosemethodinvokedPlaymethodinvoked");
	}
	
	@Test
	public void stopButtonPushedTest() {
		drawerOpen.stopButtonPushed();
		assertEquals(outVariable.toString().replaceAll("\\s+", ""), "EmptyMethod");
	}
}
